<app-header></app-header>

<div class="container">
  <div class="row justify-content-center mt-5">
    <div class="col-md-6">
      <div [ngSwitch]="alertType">
        <div *ngSwitchCase="'success'" class="alert alert-success alert-dismissible" role="alert">
          User created successfully!
          <button type="button" class="btn-close" aria-label="Close" (click)="closeAlert()"></button>
        </div>
        <div *ngSwitchCase="'error'" class="alert alert-danger alert-dismissible" role="alert">
          Silahkan isi terlebih dahulu.
          <button type="button" class="btn-close" aria-label="Close" (click)="closeAlert()"></button>
        </div>
        <div *ngSwitchCase="'notsame'" class="alert alert-danger alert-dismissible" role="alert">
          Gunakan alamat email yang sesuai
          <button type="button" class="btn-close" aria-label="Close" (click)="closeAlert()"></button>
        </div>
      </div>

      <div class=" p-4 rounded border mt-2">
        <h2 class="text-center mb-4">Tambah User</h2>
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control" id="username" placeholder="Enter username" #usernameInput>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input type="email" class="form-control" id="email" placeholder="Enter email" #emailInput>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" class="form-control" id="password" placeholder="Enter password" #passwordInput>
        </div>
        <div class="mb-3 text-center">
          <button class="btn btn-success px-5" (click)="addUser(usernameInput.value, emailInput.value, passwordInput.value)">Add User</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container p-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <button class="btn btn-dark" type="button">Detail User</button>
    </div>
    <div class="d-flex">
      <input type="text" class="form-control me-2" placeholder="Search..." aria-label="Search" aria-describedby="button-addon2" [(ngModel)]="searchTerm">
      <button class="btn btn-outline-secondary" type="button" id="button-addon2">Search</button>
    </div>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">id</th>
        <th scope="col">Username</th>
        <th scope="col">Email</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <th scope="row">{{ user.id }}</th>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>
          <button class="btn btn-primary me-3">Edit</button>
          <button class="btn btn-danger" (click)="deleteUser(user.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>







